
% Mayan Ascendancy chapter --------------------------------------------
\chapter*{Mayan Ascendancy}
\addcontentsline{toc}{chapter}{Mayan Ascendancy}

\begin{flushright}
\parbox{0.8\textwidth}{
\emph{The world has achieved brilliance without wisdom, power without
conscience. Our is a world of nuclear giants and ethical infants. \\
\hspace*{\fill}{\textperiodcentered \textperiodcentered \textperiodcentered \hspace*{0.2em} Omar Nelson Bradley} } }
\end{flushright}

\noindent
Mayan Ascendancy is chess variant which is played on 12 x 12 board with
yellow and blue fields and with dark yellow and dark blue pieces. In
algebraic notation, columns are enumerated from 'a' to 'l', and rows are
enumerated from '1' to '12'. A new piece is introduced, Pyramid.

\clearpage

\section*{Pyramid}
\addcontentsline{toc}{section}{Pyramid}

\noindent
\begin{wrapfigure}[12]{l}{0.4\textwidth}
\includegraphics[width=0.4\textwidth, keepaspectratio=true]{pieces/08_pyramid.png}
\caption{Pyramid}
\label{fig:pyramid}
% % \centering
\end{wrapfigure}
Pyramid is passive piece, meaning it can't move on its' own, it has to be
activated first. This is done by capturing a field at which Pyramid stands
with own other piece and then Pyramid can move further.

Once activated Pyramid moves similar to Rook, only real difference is that
it can move for only so many fields as piece activating it has moved, i.e.
for at most as momentum received.

Pyramid can't check opponent's King, and consequently can't contribute to
checkmate. Pyramid can capture all the other opponent's pieces.

In algebraic notation symbol for Pyramid is 'A', to avoid confusion with Pawn.

\subsection*{Momentum}
\addcontentsline{toc}{subsection}{Momentum}

Momentum is count of fields traveled over by piece. Only step fields are
counted towards momentum. When activated Pyramid receives momentum activating
piece is carrying. Momentum is spent by Pyramid when moving, one for each field
travelled. So Pyramid can't move for more fields than received momentum.
Momentum can't be saved for later, it is wasted when Pyramid moves for less
fields than momentum received.

\clearpage

\subsection*{Promotion}
\addcontentsline{toc}{subsection}{Promotion}

Pyramid can promote own Pawns, but only on opponent's side of the board.
Promotion is done by activating Pyramid which then marks Pawn for promotion
by touching either Pawn or field at which it stands. Pyramid then leaves
board as if it was captured, and Pawn is replaced by desired piece, for
instance Queen.

Both Pyramid and Pawn in question has to reside on opponent's side of the
board before promotion can take place. Piece which activates Pyramid need
not to be on opponent's side of the board.

Piece which Pawn can be promoted to is from the set of all starting pieces,
except King. This promoting-to piece is not limited to pieces already being
captured.

\clearpage

\noindent
% \begin{figure}[!h]
\begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/04_move_pyramid_promo_init.png}
\caption{Promotion start}
\label{fig:ma_promo_init}
% \centering
\end{figure}

% TODO

Here, Pegasus is accumulating momentum while travelling over step fields. After
activation Pyramid would be limited to move at most 4 fields across, i.e. at most
the momentum it received from Pegasus.

\clearpage

\noindent
% \begin{figure}[!h]
\begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/05_move_pyramid_promo_activate.png}
\caption{Promotion, Pyramid activated}
\label{fig:ma_promo_activate}
% \centering
\end{figure}

Above, Pegasus captured field at which Pyramid was situated, arrows now show
all possible moves by Pyramid. Only full move to the right leads to promotion,
shown in red. Just as Rook, Pyramid can't advance past Pawn.

\clearpage

\noindent
% \begin{figure}[!h]
\begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/06_move_pyramid_promo_end.png}
\caption{Promotion end}
\label{fig:ma_promo_end}
% \centering
\end{figure}

Now that Pyramid has reached Pawn, it is removed from the board and piece of
choice, in this instance Queen, replaces Pawn.

\clearpage

\subsection*{Conversion}
\addcontentsline{toc}{subsection}{Conversion}

Pyramid can convert opponent's pieces, except King, but only on own side of
the board. Conversion is done by activating Pyramid which then marks opponent's
piece for conversion by touching either piece or field at which it stands. Now
Pyramid leaves the board as if it was captured, and opponent's piece is replaced
by own piece of the same type.

Both Pyramid and opponent's piece has to reside on own side of the board
before conversion can take place. Piece which activates Pyramid need not
to be on own side of the board. As with promotion, conversion is not limited
to pieces which has been captured.

Note that Pyramid might just as well capture opponent's piece. Differences are
who leaves chess board, and what remains on captured field. Capture itself with
Pyramid is in no way different than that with Rook, provided that Pyramid can
reach opponent's piece, i.e. that it get enough momentum from activating piece.

\clearpage

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/07_move_pyramid_conversion_init.png}
\caption{Conversion start}
\label{fig:ma_conversion_init}
% \centering
\end{figure}

For classic pieces, step fields are just fields which piece traveled over,
in case of Bishop above that is 4 fields. Again, that is momentum Pyramid
will receive with activation and limits how far it could move afterwards.

\clearpage

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/08_move_pyramid_conversion_activated.png}
\caption{Conversion, Pyramid activated}
\label{fig:ma_conversion_activated}
% \centering
\end{figure}

Above, Bishop captured field at which Pyramid was situated, arrows now show
all possible moves by Pyramid. Only full move to the right leads to promotion,
shown in red. Again, just as Rook, Pyramid can't advance past opponent's Rook.

\clearpage

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/09_move_pyramid_conversion_end.png}
\caption{Conversion end}
\label{fig:ma_conversion_end}
% \centering
\end{figure}

Now that Pyramid has reached opponent's Rook, it is removed from the board and
own Rook replaces opponent's Rook. Capturing opponent's Rook would simply leave
Pyramid in place of it.

\clearpage

\subsection*{Cascading}
\addcontentsline{toc}{subsection}{Cascading}

\noindent
\begin{wrapfigure}{l}{0.4\textwidth}
\includegraphics[width=0.4\textwidth, keepaspectratio=true]{examples/16_move_pyramid_cascading_ok.png}
\caption{Valid cascading}
\label{fig:pyramid_valid_cascading}
% % \centering
\end{wrapfigure}
Once activated, Pyramid can also activate another Pyramid. To do so, activated Pyramid has to
have at least 1 remaining momentum to transfer it to another Pyramid. If all momentum received
was spent moving, Pyramid cannot activate another Pyramid.

% TODO

\clearpage

\subsection*{Against King}
\addcontentsline{toc}{subsection}{Against King}

Pyramid can't check opponent's King, meaning that King is not under attack
even if Pyramid could capture any other piece on the same field.

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/14_move_pyramid_vs_king.png}
\caption{Pyramid vs. King}
\label{fig:pyramid_vs_king}
% \centering
\end{figure}

Above, King is not under attack from Pyramid.

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{examples/15_move_pyramid_vs_bishop.png}
\caption{Pyramid vs. Bishop}
\label{fig:pyramid_vs_bishop}
% \centering
\end{figure}

Bishop in its' place, however, could be captured without any hindrance.

\clearpage

\section*{En passant}
\addcontentsline{toc}{section}{En passant}

\noindent
\begin{wrapfigure}{l}{0.4\textwidth}
\includegraphics[width=0.4\textwidth, keepaspectratio=true]{en_passants/06_mayan_ascendancy_en_passant.png}
\caption{En passant}
\label{fig:ma_en_passant}
% % \centering
\end{wrapfigure}
En passant is identical to one in Classic Chess, only difference is that Pawn can now
move longer on initial turn, up to 4 fields in this instance. As expected, all passed-by
opponent's Pawns also gain en passant opportunity.

In example on left, if light Pawn's initial move was 3 fields long, ending in field marked
2, two dark Pawns closest to light Pawn's initial position would have en passant opportunity,
in rows 1 and 2.

\clearpage

\section*{Castling}
\addcontentsline{toc}{section}{Castling}

Castling is essentially the same as it is in Classical Chess, only real difference is that
King can move 2, 3 or 4 fields across. All other constraints from Classical Chess still
applies.

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{castlings/06_mayan_ascendancy_castling.png}
\caption{Castling}
\label{fig:ma_castling}
% \centering
\end{figure}

In example above, all valid King's castling moves are numbered. Regardless if King performs
long or short castling move, Rook would always end up on the opposite side of King on the
field immediately next to it, i.e. closer to center.

\noindent
\begin{figure}[!h]
% \begin{figure}[!t]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{castlings/long_left/06_mayan_ascendancy_castling_long_left.png}
\caption{Castling long left}
\label{fig:ma_castling_long_left}
% \centering
\end{figure}

In this example King was castling long to the left. Initial King's position is marked with "K".
After castling is finished, left Rook ends up at field immediately on the right to the King.

\clearpage

\section*{Initial setup}
\addcontentsline{toc}{section}{Initial setup}

Initial setup for Light player is (mirrored for Dark one):
\texttt{PPPPPPPPPPPP \\
        RGANBQKBNAGR}, \\
or more conveniently, as seen in this image:

\noindent
% \begin{figure}[t]
\begin{figure}[h]
\includegraphics[width=1.0\textwidth, keepaspectratio=true]{boards/06_mayan_ascendancy.png}
\caption{Mayan Ascendancy board}
\label{fig:mayan_ascendancy}
% \centering
\end{figure}

\clearpage
% -------------------------------------------- Mayan Ascendancy chapter
