
% Copyright (c) 2015 - 2020 Mario Mlaƒçak, mmlacak@gmail.com
% Licensed and published as Public Domain work.

% Appendix chapter ----------------------------------------------------
\chapter*{Appendix}
\addcontentsline{toc}{chapter}{Appendix}
\label{ch:Appendix}

Appendix contains description of algebraic notation, extended from the base described in detail here: \\
\href{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)}{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)}. \\
This description mostly covers short notation, and is writen in monospace font, e.g. \alg{Nc3}.

Parts of classic notation clashes with new developments, and so had to be covered with
exceptions made specificaly for Classical Chess, so that algebraic notation retains
compatibility with its classic form. These exceptions are writen in monospace italics,
e.g. \algcty{Nxb3}.

For instance, \algcty{0-0}, \algcty{O-O} and their Queen's side siblings for castling had
to go in extended algebraic notation, since there are multiple castling choices available.
Another example, \alg{x} as annotation for a capturing move, e.g. \alg{Nxv3}, since
this might also be interpreted as disambiguation.

\clearpage % ..........................................................

\section*{Variants}
\addcontentsline{toc}{section}{Variants}
\label{sec:Appendix/Variants}

\begin{table}[!h]
\centering
\begin{tabular}{ rll }
\toprule
\textbf{Id} & \textbf{Variant} & \textbf{Contains}                  \\
\midrule
\multirow{6}{*}{1} & \multirow{6}{*}{Classical chess} & Pawn        \\
                   &                                  & Knight      \\
                   &                                  & Bishop      \\
                   &                                  & Rook        \\
                   &                                  & Queen       \\
                   &                                  & King        \\ \cmidrule{1-3}
                 2 & Croatian Ties                    & Pegasus     \\
                 3 & Mayan Ascendancy                 & Pyramid     \\
                 4 & Age of Aquarius                  & Unicorn     \\
                 5 & Miranda's Veil                   & Wave        \\
                 6 & Nineteen                         & Star        \\
                 7 & Hemera's Dawn                    & Centaur     \\
                 8 & Tamoanchan Revisited             & Serpent     \\
                 9 & Conquest of Tlalocan             & Shaman      \\
                10 & Discovery                        & Monolith    \\
                11 & One                              & Starchild   \\
\bottomrule
\end{tabular}
\caption{Variants}
\label{tbl:Appendix/Variants}
\end{table}

Each new variant contains all previously introduced pieces. For instance, Age of Aquarius
beside Unicorn also contains Pyramid and Pegasus, on top of all classical pieces.

\clearpage % ..........................................................

\section*{Chessboards}
\addcontentsline{toc}{section}{Chessboards}
\label{sec:Appendix/Chessboards}

\begin{table}[!h]
\centering
\begin{tabular}{ rlrrcrr }
\toprule
\textbf{Id} & \textbf{Variant}      & \multicolumn{2}{c}{ \textbf{Ranks} } & ~ & \multicolumn{2}{c}{ \textbf{Files} }   \\ \cmidrule{3-4} \cmidrule{6-7}
            &                       & \emph{min} & \emph{max}              &   & \emph{min} & \emph{max}                \\
\midrule
          1 & Classical chess       & 1          &  8                      &   & a          & h                         \\ % \cmidrule{1-6}
          2 & Croatian Ties         & 1          & 10                      &   & a          & j                         \\
          3 & Mayan Ascendancy      & 1          & 12                      &   & a          & l                         \\
          4 & Age of Aquarius       & 1          & 14                      &   & a          & n                         \\
          5 & Miranda's Veil        & 1          & 16                      &   & a          & p                         \\
          6 & Nineteen              & 1          & 18                      &   & a          & r                         \\
          7 & Hemera's Dawn         & 1          & 20                      &   & a          & t                         \\
          8 & Tamoanchan Revisited  & 1          & 22                      &   & a          & v                         \\
          9 & Conquest of Tlalocan  & 1          & 24                      &   & a          & x                         \\
         10 & Discovery             & 1          & 24                      &   & a          & x                         \\
         11 & One                   & 1          & 26                      &   & a          & z                         \\
\bottomrule
\end{tabular}
\caption{Chessboards}
\label{tbl:Appendix/Chessboards}
\end{table}

Positions on a chessboard are writen the same as in base algebraic notation, column + row,
e.g. \alg{m2} is initial position of light Pawn in Nineteen variant.

\clearpage % ..........................................................

\section*{Pieces}
\addcontentsline{toc}{section}{Pieces}
\label{sec:Appendix/Pieces}

\begin{table}[!h]
\centering
\begin{tabular}{ rlll }
\toprule
\textbf{Id} & \textbf{Piece} & \textbf{Symbol} & \textbf{Introduced in}           \\
\midrule
1           & Pawn           & P               & \multirow{6}{*}{Classical chess} \\
2           & Knight         & N               &                                  \\
3           & Bishop         & B               &                                  \\
4           & Rook           & R               &                                  \\
5           & Queen          & Q               &                                  \\
6           & King           & K               &                                  \\ \cmidrule{1-4}
7           & Pegasus        & G               & Croatian Ties                    \\
8           & Pyramid        & A               & Mayan Ascendancy                 \\
9           & Unicorn        & U               & Age of Aquarius                  \\
10          & Wave           & W               & Miranda's Veil                   \\
11          & Star           & T               & Nineteen                         \\
12          & Centaur        & C               & Hemera's Dawn                    \\
13          & Serpent        & S               & Tamoanchan Revisited             \\
14          & Shaman         & H               & Conquest of Tlalocan             \\
15          & Monolith       & M               & Discovery                        \\
16          & Starchild      & I               & One                              \\
\bottomrule
\end{tabular}
\caption{Pieces}
\label{tbl:Appendix/Pieces}
\end{table}

Each piece is present in variant in which it is introduced, and all subsequent ones.
For example, Shaman is introduced in Conquest of Tlalocan variant, so it's also present
in succeeding variants, Discovery and One.

\clearpage % ..........................................................

\section*{Movement}
\addcontentsline{toc}{section}{Movement}
\label{sec:Appendix/Movement}

Simple movement is denoted the same way as in classic algebraic notation (\algfmt{CAN},
for the rest of chapter), piece (always writen as upper case) + destination field, which
consists of rank (always writen in lower case) + file (a number).

In this example of \hyperref[fig:scn_ct_03_define_step_ply]{Pegasus moving to destination field 3},
movement of the piece would be writen as \alg{Gf7}. The same movement in long algebraic notation
(\algfmt{LAN}, for short), would be writen the same as in \algfmt{CAN}: \alg{Gc2-f7}.

Pawn symbol can be omitted, but doesn't have to. In this example of
\hyperref[fig:04_croatian_ties_en_passant]{Pawn rushing to field 2}, movement can be
writen as \alg{h5}; writing it as \alg{Ph5} is equally acceptable. Long notation would be
either \alg{h2-h5} or \alg{Ph2-h5}, depending if Pawn's symbol is omitted or not.

\subsection*{Ply}
\addcontentsline{toc}{subsection}{Ply}
\label{sec:Appendix/Ply}

\hyperref[sec:Terms/Ply]{Ply} is a movement of a single piece in a cascading move. Two plies
are separated by \~{} (tilde). In the example starting with
\hyperref[fig:scn_ma_11_cascading_init]{Queen activating a Pyramid}, which then activates another
Pyramid; example is comprised of series of 4 images, each corresponding to one ply, while last
image depicts ending state. This can be writen as \alg{Qf7\~{}Ai7\~{}Ai9}.

In \algfmt{LAN}, the same would be writen as \\
\alg{Qk2-f7\~{}Af7-i7\~{}Ai7-i9}. A pair of \alg{[}, \alg{]} (square brackets) can be used to
gather each ply, like so: \\
\alg{[Qk2-f7]\~{}[Af7-i7]\~{}[Ai7-i9]}.

\clearpage % ..........................................................

\subsection*{Disambiguating plies}
\addcontentsline{toc}{subsection}{Disambiguating plies}
\label{sec:Appendix/Disambiguating plies}

Disambiguating is done in the same way as described for \algfmt{CAN}:
\href{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)\#Disambiguating\_moves}{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)\\
\#Disambiguating\_moves},
only difference is that disambiguation really affects plies (movement of a single piece),
and not move as a whole, as multiple pieces might get moved in a single, cascading move.

\subsection*{Capturing}
\addcontentsline{toc}{subsection}{Capturing}
\label{sec:Appendix/Capturing}

Capturing move is denoted with \alg{*} (asterisk) at the end of a ply, usually followed
by the captured piece. Only for Classical Chess capturing is denoted with \algcty{x},
before destination field. Here,
\hyperref[fig:scn_ct_04_pegasus_movement]{Pegasus could capture opponent's Pawn}, which
would be writen as \alg{Gg4*P}, or just \alg{Gg4*}, if captured piece is not needed.
In \algfmt{CAN}, the same move would be written as \algcty{Gxg4}.

% \clearpage % ..........................................................

\subsection*{Pawn promotion}
\addcontentsline{toc}{subsection}{Pawn promotion}
\label{sec:Appendix/Pawn promotion}

Pawn promotion is also writen the same way as in \algfmt{CAN}, as described in detail: \\
\href{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)\#Pawn\_promotion}{https://en.wikipedia.org/wiki/Algebraic\_notation\_(chess)\\
\#Pawn\_promotion}, with Pawn's destination field + piece to which it was promoted to,
like so: \alg{e8Q}. Inserting \alg{=} (equal sign) between field and promoted-to piece
is also supported, e.g. \alg{e8=Q}.

If \hyperref[fig:scn_aoa_03_delayed_promo_init]{promotion is being delayed}, usage of
\alg{=} is mandatory, as there is no immediate piece to promote to, e.g. \alg{Bh11\~{}Ae11=}.
If \hyperref[fig:scn_aoa_04_delayed_promo_pawn_2_tagged]{Pawn tagged for promotion} moves
before actual promotion, it losses its tag, which is denoted with \alg{==} (double equal
sign), like so: \alg{e12==}.

% \clearpage % ..........................................................

\subsection*{Complex movement}
\addcontentsline{toc}{subsection}{Complex movement}
\label{sec:Appendix/Complex movement}

Individual steps are separated by \alg{.} (single dot), multiple steps are separated by \alg{..} (two dots).
In this example, \hyperref[fig:scn_hd_03_centaur_multi_step]{Centaur has to choose 2 different steps},
which it will then follow for the rest of ply. Lets say that destination field is 8, writing it as
just \alg{Cp14} is not enough since at least 2 different paths lead to the same destination field.

The best way to write it is with both initial steps, i.e. \alg{C.c5.g6..p15}, even if it's a bit verbose.
It would be enough if only first step is written, i.e. \alg{C.c5..p15}. The one of other paths leading
to the same \alg{Cp15} would be \alg{C.f2.g6..p15}. Note also \alg{.} separating piece and the first
step, without it first step would be taken as an initial field.

Not recomended, but still possible is to write \emph{some} step along the way, e.g. \alg{C..i11..p15}.
Care must be taken to write step which really differentiate paths, otherwise \alg{C..j9..p15} might also
denote \alg{C.b4.f5..p15}, which happens to cross \alg{j9} as well.

\clearpage % ..........................................................

\subsection*{Path separators}
\addcontentsline{toc}{subsection}{Path separators}
\label{sec:Appendix/Path separators}

\begin{table}[!h]
\centering
\begin{tabular}{ rlll }
\toprule
\textbf{Id} & \textbf{Symbol}      & \textbf{Separates}             \\
\midrule
1           & \alg{.}              & single step                    \\
2           & \alg{..}             & multiple steps                 \\
3           & \alg{-}              & starting and destination field \\
4           & \alg{\~{}}           & plies                          \\
5           & \alg{|}              & teleportation                  \\
6           & \alg{||}             & failed teleportation, oblation \\
7           & \alg{@}              & trance-journey                 \\
8           & \alg{::}             & Pawn-sacrifice                 \\
\bottomrule
\end{tabular}
\caption{Path separators}
\label{tbl:Appendix/Path separators}
\end{table}

. . .

\clearpage % ..........................................................

\subsection*{Ply side-effects}
\addcontentsline{toc}{subsection}{Ply side-effects}
\label{sec:Appendix/Ply side-effects}

\begin{table}[!h]
\centering
\begin{tabular}{ rlll }
\toprule
\textbf{Id} & \textbf{Symbol}      & \textbf{Side-effect}           \\
\midrule
1           & \alg{*}              & capturing                      \\
2           & \alg{:}              & en passant                     \\
3           & \alg{\&}             & castling                       \\
4           & \alg{=}              & promotion, tag                 \\
5           & \alg{==}             & failed promotion               \\
6           & \alg{\%}             & conversion                     \\
7           & \alg{\%\%}           & failed conversion, oblation    \\
8           & \alg{<}              & trance-journey displacement    \\
9           & \alg{>}              & syzygy, demoting to Pawn       \\
10          & \alg{\$}             & syzygy, ressurection           \\
\bottomrule
\end{tabular}
\caption{Ply side-effects}
\label{tbl:Appendix/Ply side-effects}
\end{table}

. . .

\clearpage % ..........................................................

\subsection*{Move status}
\addcontentsline{toc}{subsection}{Move status}
\label{sec:Appendix/Move status}

\begin{table}[!h]
\centering
\begin{tabular}{ rlll }
\toprule
\textbf{Id} & \textbf{Symbol}      & \textbf{Status}                \\
\midrule
1           & \alg{+}              & check                          \\
2           & \alg{++}             & double-check                   \\
3           & \alg{\#}             & checkmate                      \\
\bottomrule
\end{tabular}
\caption{Move status}
\label{tbl:Appendix/Move status}
\end{table}

. . .

\clearpage % ..........................................................

\huge{TODO}
Serpent, Monolith movement limits --\textgreater table
\normalsize{}

\clearpage % ..........................................................

\section*{Movement of Wave}
\addcontentsline{toc}{section}{Movement of Wave}
\label{sec:Appendix/Movement of Wave}

Movement of Wave ... as multi-step piece activating it  ...

% TODO :: table <activated-by> : <moves-like>

\clearpage % ..........................................................

\section*{Initial setups}
\addcontentsline{toc}{section}{Initial setups}
\label{sec:Appendix/Initial setups}
Initial setups ...

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPP \\
%         RGNBQKBNGR}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPP \\
%         RGANBQKBNAGR}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPP \\
%         RGAUNBQKBNUAGR}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPP \\
%         RGAUWNBQKBNWUAGR}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPP \\
%         TRGAUWNBQKBNWUAGRT}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPPPP \\
%         TRGAUWCNBQKBNCWUAGRT}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPPPPPP \\
%         TRGAUWCSNBQKBNSCWUAGRT}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPPPPPPPP \\
%         TRGAHUWCSNBQKBNSCWUHAGRT}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPPPPPPPP \\
%         TRGAHUWCSNBQKBNSCWUHAGRT}, \\
% or more conveniently, as seen in this image:

% Initial setup for Light player is (mirrored for Dark one):
% \texttt{PPPPPPPPPPPPPPPPPPPPPPPPPP \\
%         TRGAHIUWCSNBQKBNSCWUIHAGRT}, \\
% or more conveniently, as seen in this image:

% TODO :: add to "Pieces" section
%
% \section*{Passive pieces}
% \addcontentsline{toc}{section}{Passive pieces}
% \label{sec:Definitions/Passive pieces}
%
% Passive pieces are ...
%
% Activating passive piece with Pawn ... capture-fields vs. step-fields.

\clearpage % ..........................................................
% ---------------------------------------------------- Appendix chapter
